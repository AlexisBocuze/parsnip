<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fit a Model Specification to a Dataset — fit.model_spec • parsnip</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../tidymodels.css" rel="stylesheet">




<meta property="og:title" content="Fit a Model Specification to a Dataset — fit.model_spec" />
<meta property="og:description" content="fit() and fit_xy() take a model specification, translate the required
code by substituting arguments, and execute the model fit
routine." />
<meta property="og:image" content="https://parsnip.tidymodels.org/logo.png" />
<meta name="twitter:card" content="summary" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">parsnip</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of <a href="https://tidymodels.org">tidymodels</a></span>
          <span class="version version-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.3.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../articles/parsnip_Intro.html">Basic Usage</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://www.tidymodels.org/learn/models/parsnip-ranger-glmnet/">Regression modeling</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/models/parsnip-nnet/">Classification modeling</a>
    </li>
    <li>
      <a href="https://www.tidymodels.org/learn/develop/models/">Making a parsnip model from scratch</a>
    </li>
    <li>
      <a href="../articles/articles/Submodels.html">Evaluating submodels with the same model object</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
        <li>
  <a href="https://github.com/tidymodels/parsnip/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit a Model Specification to a Dataset</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidymodels/parsnip/blob/master/R/fit.R'><code>R/fit.R</code></a></small>
    <div class="hidden name"><code>fit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit()</a></code> and <code><a href='https://rdrr.io/pkg/generics/man/fit_xy.html'>fit_xy()</a></code> take a model specification, translate the required
code by substituting arguments, and execute the model fit
routine.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for model_spec</span>
<span class='fu'><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit</a></span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>formula</span>, <span class='va'>data</span>, control <span class='op'>=</span> <span class='fu'><a href='control_parsnip.html'>control_parsnip</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for model_spec</span>
<span class='fu'><a href='https://rdrr.io/pkg/generics/man/fit_xy.html'>fit_xy</a></span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>x</span>, <span class='va'>y</span>, control <span class='op'>=</span> <span class='fu'><a href='control_parsnip.html'>control_parsnip</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of class <code>model_spec</code> that has a chosen engine
(via <code><a href='set_engine.html'>set_engine()</a></code>).</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>An object of class "formula" (or one that can
be coerced to that class): a symbolic description of the model
to be fitted.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Optional, depending on the interface (see Details
below). A data frame containing all relevant variables (e.g.
outcome(s), predictors, case weights, etc). Note: when needed, a
<em>named argument</em> should be used.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>A named list with elements <code>verbosity</code> and
<code>catch</code>. See <code><a href='control_parsnip.html'>control_parsnip()</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not currently used; values passed here will be
ignored. Other options required to fit the model should be
passed using <code><a href='set_engine.html'>set_engine()</a></code>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A matrix, sparse matrix, or data frame of predictors. Only some
models have support for sparse matrix input. See <code><a href='set_new_model.html'>parsnip::get_encoding()</a></code>
for details.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>A vector, matrix or data frame of outcome data.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>model_fit</code> object that contains several elements:</p><ul>
<li><p><code>lvl</code>: If the outcome is a factor, this contains
the factor levels at the time of model fitting.</p></li>
<li><p><code>spec</code>: The model specification object
(<code>object</code> in the call to <code>fit</code>)</p></li>
<li><p><code>fit</code>: when the model is executed without error,
this is the model object. Otherwise, it is a <code>try-error</code>
object with the error message.</p></li>
<li><p><code>preproc</code>: any objects needed to convert between
a formula and non-formula interface (such as the <code>terms</code>
object)</p></li>
</ul><p>The return value will also have a class related to the fitted model (e.g.
<code>"_glm"</code>) before the base class of <code>"model_fit"</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit()</a></code> and <code><a href='https://rdrr.io/pkg/generics/man/fit_xy.html'>fit_xy()</a></code> substitute the current arguments in the model
specification into the computational engine's code, check them
for validity, then fit the model using the data and the
engine-specific code. Different model functions have different
interfaces (e.g. formula or <code>x</code>/<code>y</code>) and these functions translate
between the interface used when <code><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit()</a></code> or <code><a href='https://rdrr.io/pkg/generics/man/fit_xy.html'>fit_xy()</a></code> was invoked and the one
required by the underlying model.</p>
<p>When possible, these functions attempt to avoid making copies of the
data. For example, if the underlying model uses a formula and
<code><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit()</a></code> is invoked, the original data are references
when the model is fit. However, if the underlying model uses
something else, such as <code>x</code>/<code>y</code>, the formula is evaluated and
the data are converted to the required format. In this case, any
calls in the resulting model objects reference the temporary
objects used to fit the model.</p>
<p>If the model engine has not been set, the model's default engine will be used
(as discussed on each model page). If the <code>verbosity</code> option of
<code><a href='control_parsnip.html'>control_parsnip()</a></code> is greater than zero, a warning will be produced.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='set_engine.html'>set_engine()</a></code>, <code><a href='control_parsnip.html'>control_parsnip()</a></code>, <code>model_spec</code>, <code>model_fit</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Although `glm()` only has a formula interface, different</span>
<span class='co'># methods for specifying the model can be used</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘dplyr’</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://modeldata.tidymodels.org'>modeldata</a></span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"lending_club"</span><span class='op'>)</span>

<span class='va'>lr_mod</span> <span class='op'>&lt;-</span> <span class='fu'><a href='logistic_reg.html'>logistic_reg</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>using_formula</span> <span class='op'>&lt;-</span>
  <span class='va'>lr_mod</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='set_engine.html'>set_engine</a></span><span class='op'>(</span><span class='st'>"glm"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/generics/man/fit.html'>fit</a></span><span class='op'>(</span><span class='va'>Class</span> <span class='op'>~</span> <span class='va'>funded_amnt</span> <span class='op'>+</span> <span class='va'>int_rate</span>, data <span class='op'>=</span> <span class='va'>lending_club</span><span class='op'>)</span>

<span class='va'>using_xy</span> <span class='op'>&lt;-</span>
  <span class='va'>lr_mod</span> <span class='op'>%&gt;%</span>
   <span class='fu'><a href='set_engine.html'>set_engine</a></span><span class='op'>(</span><span class='st'>"glm"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/generics/man/fit_xy.html'>fit_xy</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>lending_club</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"funded_amnt"</span>, <span class='st'>"int_rate"</span><span class='op'>)</span><span class='op'>]</span>,
         y <span class='op'>=</span> <span class='va'>lending_club</span><span class='op'>$</span><span class='va'>Class</span><span class='op'>)</span>

<span class='va'>using_formula</span>
</div><div class='output co'>#&gt; parsnip model object
#&gt; 
#&gt; Fit time:  39ms 
#&gt; 
#&gt; Call:  stats::glm(formula = Class ~ funded_amnt + int_rate, family = stats::binomial, 
#&gt;     data = data)
#&gt; 
#&gt; Coefficients:
#&gt; (Intercept)  funded_amnt     int_rate  
#&gt;   5.131e+00    2.767e-06   -1.586e-01  
#&gt; 
#&gt; Degrees of Freedom: 9856 Total (i.e. Null);  9854 Residual
#&gt; Null Deviance:	    4055 
#&gt; Residual Deviance: 3698 	AIC: 3704</div><div class='input'><span class='va'>using_xy</span>
</div><div class='output co'>#&gt; parsnip model object
#&gt; 
#&gt; Fit time:  31ms 
#&gt; 
#&gt; Call:  stats::glm(formula = ..y ~ ., family = stats::binomial, data = data)
#&gt; 
#&gt; Coefficients:
#&gt; (Intercept)  funded_amnt     int_rate  
#&gt;   5.131e+00    2.767e-06   -1.586e-01  
#&gt; 
#&gt; Degrees of Freedom: 9856 Total (i.e. Null);  9854 Residual
#&gt; Null Deviance:	    4055 
#&gt; Residual Deviance: 3698 	AIC: 3704</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>parsnip is a part of the <strong>tidymodels</strong> ecosystem, a collection of modeling packages designed with common APIs and a shared philosophy.</p>
</div>

<div class="author">
  <p>
    Developed by Max Kuhn, Davis Vaughan.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


